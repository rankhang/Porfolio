<!-- Modal -->
<div class="modal fade" id="createNewPost" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="createNewPostBackDropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="createNewPostBackDropLabel">Create post</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container ">
                    <div class="row pb-2">
                        <div class="col">
                            <img class="user__avatar"
                                src="data:image/png;base64,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"
                                alt="" />
                        </div>
                        <div class="col">
                            <h3>{{mainUserMetaData?.lname}} {{mainUserMetaData?.fname}}</h3>
                        </div>
                        <div class="col-6">

                        </div>
                    </div>
                    <button class="btn btn-secondary btn-sm" data-bs-target="#choosePostVisiability"
                        data-bs-toggle="modal">
                        <div *ngIf="postAudience===onlyMeAudience" class="container">
                            <i class="fa-solid fa-lock"></i> {{onlyMeAudience}} <i class="fa-solid fa-caret-down"></i>
                        </div>
                        <div *ngIf="postAudience===publicAudience" class="container">
                            <i class="fa-solid fa-earth-americas"></i> {{publicAudience}} <i
                                class="fa-solid fa-caret-down"></i>
                        </div>
                        <div *ngIf="postAudience===friendsAudience" class="container">
                            <i class="fa-solid fa-user-group"></i> {{friendsAudience}} <i
                                class="fa-solid fa-caret-down"></i>
                        </div>
                        <div *ngIf="postAudience===friendsExceptAudience" class="container">
                            <i class="bi bi-person-x"></i> {{friendsExceptAudience}} <i
                                class="fa-solid fa-caret-down"></i>
                        </div>
                        <div *ngIf="postAudience===specificFriendsAudience" class="container">
                            <i class="bi bi-person-circle"></i> {{specificFriendsAudience}} <i
                                class="fa-solid fa-caret-down"></i>
                        </div>
                    </button>
                </div>


                <div class="pt-4">
                    <div *ngIf="!isPhotoIconClick" container>
                        <textarea [(ngModel)]="postText" placeholder="What's on your mind, {{mainUserMetaData?.fname}}?"
                            style="border: none; font-size: x-large;"></textarea>
                    </div>
                    <div *ngIf="!isTextEditIconClick" container>
                        <div class="pt-4 pr-2 pl-2 border pb-4 border-secondary rounded p-2 mb-2 border-opacity-25 ">
                            <div *ngIf="!isChosenPostPhotoUpload" style="background-color: lightgray;"
                                class="innerBox pt-1 pr-1 pl-1 border pb-1 border-secondary rounded border-opacity-25 ">
                                <label for="file-upload" class=" fs-3 custom-file-upload">
                                    <div class="position-absolute top-50 start-50 translate-middle photo_cover">
                                        <div>
                                            <i class="fa-solid fa-upload"></i> Add photos
                                        </div>
                                    </div>
                                </label>
                                <input id="file-upload" type="file" (change)="onPhotoUpload($event)"
                                    multiple="true" />
                            </div>
                            <div *ngIf="isChosenPostPhotoUpload">
                                <div>
                                    <img *ngFor="let photo of chosenPostPhotosArray" class="post_photo_upload mx-auto p-2" [src]=" 
                                photo">
                                </div>
                                
                            </div>
                        </div>
                    </div>



                </div>

                <div class="pt-4 pr-2 pl-2 border pb-4 border-secondary rounded p-2 mb-2 border-opacity-25 container">
                    <div class="row">
                        <div class="col-6 fs-5">Add to your post</div>

                        <div class="col-2"><button (click)="onTextClick()" type="button"
                                style="background-color: white; border: none; outline: none;"><i
                                    class="fa-solid fa-pen"></i></button></div>

                        <div class="col-2"><button (click)="onPhotoClick()" type="button"
                                style="background-color: white; border: none; outline: none;"><i
                                    class="fa-regular fa-images"></i></button></div>


                        <div class="col-2"><button style="background-color: white; border: none; outline: none;"><i
                                    class="fa-solid fa-user-tag"></i></button></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="onUploadNewPost()">Post</button>
            </div>
        </div>
    </div>
</div>


<!-- Audience options modal-->
<div class="modal fade" id="choosePostVisiability" aria-hidden="true" aria-labelledby="choosePostVisiabilitylabel"
    tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <div class="container text-center">
                    <div class="row">
                        <div class="col-1">
                            <button class="btn btn-light rounded-circle" data-bs-target="#createNewPost"
                                data-bs-toggle="modal">
                                <i class="fa-solid fa-arrow-left"></i>
                            </button>
                        </div>
                        <div class="col-10">
                            <h1 class="modal-title fs-5" id="choosePostVisiabilitylabel">Post Audience</h1>
                        </div>
                        <div class="col-1 pt-2">
                            <button type="button" class="btn-close btn btn-light rounded-circle" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                    </div>
                </div>
            </div>
            <form [formGroup]="audienceForm" (submit)="onSubmitAudience()">
                <div class="modal-body">
                    <!--Radio buttons to choose audience-->

                    <div class="form-check pb-4 pt-2">
                        <input class="form-check-input" type="radio" formControlName="audience" id="public"
                            value={{publicAudience}}>
                        <label class="form-check-label fs-5" for="public">
                            <i class="postAudienceIconSize fa-solid fa-earth-americas"></i> {{publicAudience}}
                        </label>
                    </div>
                    <div class="form-check pb-4">
                        <input class="form-check-input" type="radio" formControlName="audience" id="onlyMe"
                            value="{{onlyMeAudience}}">
                        <label class="form-check-label fs-5" for="onlyMe">
                            <i class="postAudienceIconSize fa-solid fa-lock"></i>
                            {{onlyMeAudience}}
                        </label>
                    </div>
                    <div class="form-check pb-4">
                        <input class="form-check-input" type="radio" formControlName="audience" id="friends"
                            value="{{friendsAudience}}">
                        <label class="form-check-label fs-5" for="friends">
                            <i class="postAudienceIconSize fa-solid fa-user-group"></i> {{friendsAudience}}
                        </label>
                    </div>
                    <div class="form-check pb-4">
                        <input class="form-check-input" type="radio" formControlName="audience" id="friendsExcept"
                            value="{{friendsExceptAudience}}">
                        <label class="form-check-label fs-5" for="friendsExcept">
                            <i class="postAudienceIconSize fa-solid fa-user-xmark"></i> {{friendsExceptAudience}}
                        </label>
                    </div>
                    <div class="form-check pb-4">
                        <input class="form-check-input" type="radio" formControlName="audience" id="specificFriend"
                            value="{{specificFriendsAudience}}">
                        <label class="form-check-label fs-5" for="specificFriend">
                            <i class="postAudienceIconSize fa-solid fa-user-gear"></i> {{specificFriendsAudience}}
                        </label>
                    </div>


                </div>
                <div class="modal-footer">
                    <button type="button" data-bs-target="#createNewPost" data-bs-toggle="modal"
                        class="btn btn-secondary">Cancel</button>
                    <button type="submit" data-bs-target="#createNewPost" data-bs-toggle="modal"
                        class="btn btn-primary">Done</button>
                </div>

            </form>
        </div>
    </div>
</div>