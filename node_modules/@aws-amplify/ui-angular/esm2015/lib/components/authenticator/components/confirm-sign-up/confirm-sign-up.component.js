import { Component, HostBinding } from '@angular/core';
import { getFormDataFromEvent, authenticatorTextUtil, } from '@aws-amplify/ui';
import * as i0 from "@angular/core";
import * as i1 from "../../../../services/authenticator.service";
import * as i2 from "../../../../utilities/amplify-slot/amplify-slot.component";
import * as i3 from "../base-form-fields/base-form-fields.component";
import * as i4 from "../../../../primitives/button/button.component";
import * as i5 from "../../../../primitives/error/error.component";
import * as i6 from "@angular/common";
const { getResendCodeText, getConfirmText, getDeliveryMethodText, getDeliveryMessageText, } = authenticatorTextUtil;
export class ConfirmSignUpComponent {
    constructor(authenticator) {
        this.authenticator = authenticator;
        this.dataAttr = '';
        // translated texts
        this.resendCodeText = getResendCodeText();
        this.confirmText = getConfirmText();
    }
    get context() {
        return this.authenticator.slotContext;
    }
    get confirmSignUpHeading() {
        const { codeDeliveryDetails } = this.authenticator;
        return getDeliveryMethodText(codeDeliveryDetails);
    }
    get subtitleText() {
        const { codeDeliveryDetails } = this.authenticator;
        return getDeliveryMessageText(codeDeliveryDetails);
    }
    onInput(event) {
        event.preventDefault();
        const { name, value } = event.target;
        this.authenticator.updateForm({ name, value });
    }
    onSubmit(event) {
        event.preventDefault();
        this.authenticator.submitForm(getFormDataFromEvent(event));
    }
}
ConfirmSignUpComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: ConfirmSignUpComponent, deps: [{ token: i1.AuthenticatorService }], target: i0.ɵɵFactoryTarget.Component });
ConfirmSignUpComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: ConfirmSignUpComponent, selector: "amplify-confirm-sign-up", host: { properties: { "attr.data-amplify-authenticator-confirmsignup": "this.dataAttr" } }, ngImport: i0, template: "<ng-container>\n  <form data-amplify-form (submit)=\"onSubmit($event)\" (input)=\"onInput($event)\">\n    <fieldset\n      class=\"amplify-flex amplify-authenticator__column\"\n      data-amplify-fieldset\n      [disabled]=\"context.isPending\"\n    >\n      <amplify-slot name=\"confirm-sign-up-header\" [context]=\"context\">\n        <h3\n          class=\"amplify-heading amplify-authenticator__heading\"\n          style=\"font-size: 1.5rem\"\n        >\n          {{ confirmSignUpHeading }}\n        </h3>\n      </amplify-slot>\n      <span class=\"amplify-authenticator__subtitle\">\n        {{ subtitleText }}\n      </span>\n      <amplify-base-form-fields\n        route=\"confirmSignUp\"\n      ></amplify-base-form-fields>\n\n      <button\n        amplify-button\n        variation=\"primary\"\n        fullWidth=\"true\"\n        type=\"submit\"\n        [isDisabled]=\"authenticator.isPending\"\n      >\n        {{ confirmText }}\n      </button>\n      <button\n        amplify-button\n        fontWeight=\"normal\"\n        (click)=\"authenticator.resendCode()\"\n      >\n        {{ resendCodeText }}\n      </button>\n    </fieldset>\n\n    <amplify-error *ngIf=\"context.error\">\n      {{ authenticator.error }}\n    </amplify-error>\n    <amplify-slot\n      name=\"confirm-sign-up-footer\"\n      [context]=\"context\"\n    ></amplify-slot>\n  </form>\n</ng-container>\n", components: [{ type: i2.AmplifySlotComponent, selector: "amplify-slot", inputs: ["name", "context"] }, { type: i3.BaseFormFieldsComponent, selector: "amplify-base-form-fields", inputs: ["route"] }, { type: i4.ButtonComponent, selector: "button[amplify-button]", inputs: ["type", "fullWidth", "isDisabled", "size", "variation", "fontWeight"] }, { type: i5.ErrorComponent, selector: "amplify-error" }], directives: [{ type: i6.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: ConfirmSignUpComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'amplify-confirm-sign-up',
                    templateUrl: './confirm-sign-up.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.AuthenticatorService }]; }, propDecorators: { dataAttr: [{
                type: HostBinding,
                args: ['attr.data-amplify-authenticator-confirmsignup']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlybS1zaWduLXVwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpLWFuZ3VsYXIvc3JjL2xpYi9jb21wb25lbnRzL2F1dGhlbnRpY2F0b3IvY29tcG9uZW50cy9jb25maXJtLXNpZ24tdXAvY29uZmlybS1zaWduLXVwLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpLWFuZ3VsYXIvc3JjL2xpYi9jb21wb25lbnRzL2F1dGhlbnRpY2F0b3IvY29tcG9uZW50cy9jb25maXJtLXNpZ24tdXAvY29uZmlybS1zaWduLXVwLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXZELE9BQU8sRUFFTCxvQkFBb0IsRUFDcEIscUJBQXFCLEdBQ3RCLE1BQU0saUJBQWlCLENBQUM7Ozs7Ozs7O0FBRXpCLE1BQU0sRUFDSixpQkFBaUIsRUFDakIsY0FBYyxFQUNkLHFCQUFxQixFQUNyQixzQkFBc0IsR0FDdkIsR0FBRyxxQkFBcUIsQ0FBQztBQUsxQixNQUFNLE9BQU8sc0JBQXNCO0lBU2pDLFlBQW1CLGFBQW1DO1FBQW5DLGtCQUFhLEdBQWIsYUFBYSxDQUFzQjtRQVJRLGFBQVEsR0FBRyxFQUFFLENBQUM7UUFFNUUsbUJBQW1CO1FBQ1osbUJBQWMsR0FBRyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3JDLGdCQUFXLEdBQUcsY0FBYyxFQUFFLENBQUM7SUFJbUIsQ0FBQztJQUUxRCxJQUFXLE9BQU87UUFDaEIsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQztJQUN4QyxDQUFDO0lBRUQsSUFBVyxvQkFBb0I7UUFDN0IsTUFBTSxFQUFFLG1CQUFtQixFQUFFLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUNuRCxPQUFPLHFCQUFxQixDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVELElBQVcsWUFBWTtRQUNyQixNQUFNLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQ25ELE9BQU8sc0JBQXNCLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRUQsT0FBTyxDQUFDLEtBQVk7UUFDbEIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZCLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQXFCLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDdkQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsUUFBUSxDQUFDLEtBQVk7UUFDbkIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQzs7b0hBbENVLHNCQUFzQjt3R0FBdEIsc0JBQXNCLDJKQ2xCbkMscTNDQWlEQTs0RkQvQmEsc0JBQXNCO2tCQUpsQyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSx5QkFBeUI7b0JBQ25DLFdBQVcsRUFBRSxrQ0FBa0M7aUJBQ2hEOzJHQUUrRCxRQUFRO3NCQUFyRSxXQUFXO3VCQUFDLCtDQUErQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSG9zdEJpbmRpbmcgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEF1dGhlbnRpY2F0b3JTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmljZXMvYXV0aGVudGljYXRvci5zZXJ2aWNlJztcbmltcG9ydCB7XG4gIEZvcm1GaWVsZHNBcnJheSxcbiAgZ2V0Rm9ybURhdGFGcm9tRXZlbnQsXG4gIGF1dGhlbnRpY2F0b3JUZXh0VXRpbCxcbn0gZnJvbSAnQGF3cy1hbXBsaWZ5L3VpJztcblxuY29uc3Qge1xuICBnZXRSZXNlbmRDb2RlVGV4dCxcbiAgZ2V0Q29uZmlybVRleHQsXG4gIGdldERlbGl2ZXJ5TWV0aG9kVGV4dCxcbiAgZ2V0RGVsaXZlcnlNZXNzYWdlVGV4dCxcbn0gPSBhdXRoZW50aWNhdG9yVGV4dFV0aWw7XG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhbXBsaWZ5LWNvbmZpcm0tc2lnbi11cCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9jb25maXJtLXNpZ24tdXAuY29tcG9uZW50Lmh0bWwnLFxufSlcbmV4cG9ydCBjbGFzcyBDb25maXJtU2lnblVwQ29tcG9uZW50IHtcbiAgQEhvc3RCaW5kaW5nKCdhdHRyLmRhdGEtYW1wbGlmeS1hdXRoZW50aWNhdG9yLWNvbmZpcm1zaWdudXAnKSBkYXRhQXR0ciA9ICcnO1xuXG4gIC8vIHRyYW5zbGF0ZWQgdGV4dHNcbiAgcHVibGljIHJlc2VuZENvZGVUZXh0ID0gZ2V0UmVzZW5kQ29kZVRleHQoKTtcbiAgcHVibGljIGNvbmZpcm1UZXh0ID0gZ2V0Q29uZmlybVRleHQoKTtcblxuICBwdWJsaWMgc29ydGVkRm9ybUZpZWxkczogRm9ybUZpZWxkc0FycmF5O1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBhdXRoZW50aWNhdG9yOiBBdXRoZW50aWNhdG9yU2VydmljZSkge31cblxuICBwdWJsaWMgZ2V0IGNvbnRleHQoKTogQXV0aGVudGljYXRvclNlcnZpY2VbJ3Nsb3RDb250ZXh0J10ge1xuICAgIHJldHVybiB0aGlzLmF1dGhlbnRpY2F0b3Iuc2xvdENvbnRleHQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGNvbmZpcm1TaWduVXBIZWFkaW5nKCk6IHN0cmluZyB7XG4gICAgY29uc3QgeyBjb2RlRGVsaXZlcnlEZXRhaWxzIH0gPSB0aGlzLmF1dGhlbnRpY2F0b3I7XG4gICAgcmV0dXJuIGdldERlbGl2ZXJ5TWV0aG9kVGV4dChjb2RlRGVsaXZlcnlEZXRhaWxzKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgc3VidGl0bGVUZXh0KCk6IHN0cmluZyB7XG4gICAgY29uc3QgeyBjb2RlRGVsaXZlcnlEZXRhaWxzIH0gPSB0aGlzLmF1dGhlbnRpY2F0b3I7XG4gICAgcmV0dXJuIGdldERlbGl2ZXJ5TWVzc2FnZVRleHQoY29kZURlbGl2ZXJ5RGV0YWlscyk7XG4gIH1cblxuICBvbklucHV0KGV2ZW50OiBFdmVudCk6IHZvaWQge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgeyBuYW1lLCB2YWx1ZSB9ID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZXZlbnQudGFyZ2V0O1xuICAgIHRoaXMuYXV0aGVudGljYXRvci51cGRhdGVGb3JtKHsgbmFtZSwgdmFsdWUgfSk7XG4gIH1cblxuICBvblN1Ym1pdChldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuYXV0aGVudGljYXRvci5zdWJtaXRGb3JtKGdldEZvcm1EYXRhRnJvbUV2ZW50KGV2ZW50KSk7XG4gIH1cbn1cbiIsIjxuZy1jb250YWluZXI+XG4gIDxmb3JtIGRhdGEtYW1wbGlmeS1mb3JtIChzdWJtaXQpPVwib25TdWJtaXQoJGV2ZW50KVwiIChpbnB1dCk9XCJvbklucHV0KCRldmVudClcIj5cbiAgICA8ZmllbGRzZXRcbiAgICAgIGNsYXNzPVwiYW1wbGlmeS1mbGV4IGFtcGxpZnktYXV0aGVudGljYXRvcl9fY29sdW1uXCJcbiAgICAgIGRhdGEtYW1wbGlmeS1maWVsZHNldFxuICAgICAgW2Rpc2FibGVkXT1cImNvbnRleHQuaXNQZW5kaW5nXCJcbiAgICA+XG4gICAgICA8YW1wbGlmeS1zbG90IG5hbWU9XCJjb25maXJtLXNpZ24tdXAtaGVhZGVyXCIgW2NvbnRleHRdPVwiY29udGV4dFwiPlxuICAgICAgICA8aDNcbiAgICAgICAgICBjbGFzcz1cImFtcGxpZnktaGVhZGluZyBhbXBsaWZ5LWF1dGhlbnRpY2F0b3JfX2hlYWRpbmdcIlxuICAgICAgICAgIHN0eWxlPVwiZm9udC1zaXplOiAxLjVyZW1cIlxuICAgICAgICA+XG4gICAgICAgICAge3sgY29uZmlybVNpZ25VcEhlYWRpbmcgfX1cbiAgICAgICAgPC9oMz5cbiAgICAgIDwvYW1wbGlmeS1zbG90PlxuICAgICAgPHNwYW4gY2xhc3M9XCJhbXBsaWZ5LWF1dGhlbnRpY2F0b3JfX3N1YnRpdGxlXCI+XG4gICAgICAgIHt7IHN1YnRpdGxlVGV4dCB9fVxuICAgICAgPC9zcGFuPlxuICAgICAgPGFtcGxpZnktYmFzZS1mb3JtLWZpZWxkc1xuICAgICAgICByb3V0ZT1cImNvbmZpcm1TaWduVXBcIlxuICAgICAgPjwvYW1wbGlmeS1iYXNlLWZvcm0tZmllbGRzPlxuXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFtcGxpZnktYnV0dG9uXG4gICAgICAgIHZhcmlhdGlvbj1cInByaW1hcnlcIlxuICAgICAgICBmdWxsV2lkdGg9XCJ0cnVlXCJcbiAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgIFtpc0Rpc2FibGVkXT1cImF1dGhlbnRpY2F0b3IuaXNQZW5kaW5nXCJcbiAgICAgID5cbiAgICAgICAge3sgY29uZmlybVRleHQgfX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhbXBsaWZ5LWJ1dHRvblxuICAgICAgICBmb250V2VpZ2h0PVwibm9ybWFsXCJcbiAgICAgICAgKGNsaWNrKT1cImF1dGhlbnRpY2F0b3IucmVzZW5kQ29kZSgpXCJcbiAgICAgID5cbiAgICAgICAge3sgcmVzZW5kQ29kZVRleHQgfX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZmllbGRzZXQ+XG5cbiAgICA8YW1wbGlmeS1lcnJvciAqbmdJZj1cImNvbnRleHQuZXJyb3JcIj5cbiAgICAgIHt7IGF1dGhlbnRpY2F0b3IuZXJyb3IgfX1cbiAgICA8L2FtcGxpZnktZXJyb3I+XG4gICAgPGFtcGxpZnktc2xvdFxuICAgICAgbmFtZT1cImNvbmZpcm0tc2lnbi11cC1mb290ZXJcIlxuICAgICAgW2NvbnRleHRdPVwiY29udGV4dFwiXG4gICAgPjwvYW1wbGlmeS1zbG90PlxuICA8L2Zvcm0+XG48L25nLWNvbnRhaW5lcj5cbiJdfQ==