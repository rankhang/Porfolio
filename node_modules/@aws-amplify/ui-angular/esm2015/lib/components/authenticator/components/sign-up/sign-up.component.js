import { Component, HostBinding } from '@angular/core';
import { getFormDataFromEvent, authenticatorTextUtil } from '@aws-amplify/ui';
import * as i0 from "@angular/core";
import * as i1 from "../../../../services/authenticator.service";
import * as i2 from "../../../../utilities/amplify-slot/amplify-slot.component";
import * as i3 from "../federated-sign-in/federated-sign-in.component";
import * as i4 from "./sign-up-form-fields/sign-up-form-fields.component";
import * as i5 from "../../../../primitives/error/error.component";
import * as i6 from "../../../../primitives/button/button.component";
import * as i7 from "@angular/common";
const { getCreateAccountText } = authenticatorTextUtil;
export class SignUpComponent {
    constructor(authenticator) {
        this.authenticator = authenticator;
        this.dataAttr = '';
        // translated texts
        this.createAccountText = getCreateAccountText();
    }
    get context() {
        return this.authenticator.slotContext;
    }
    onInput(event) {
        const { checked, name, type, value } = event.target;
        const isUncheckedCheckbox = type === 'checkbox' && !checked;
        this.authenticator.updateForm({
            name,
            value: isUncheckedCheckbox ? undefined : value,
        });
    }
    onSubmit(event) {
        event.preventDefault();
        this.authenticator.submitForm(getFormDataFromEvent(event));
    }
}
SignUpComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: SignUpComponent, deps: [{ token: i1.AuthenticatorService }], target: i0.ɵɵFactoryTarget.Component });
SignUpComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: SignUpComponent, selector: "amplify-sign-up", host: { properties: { "attr.data-amplify-authenticator-signup": "this.dataAttr" } }, ngImport: i0, template: "<amplify-slot name=\"sign-up-header\" [context]=\"context\"></amplify-slot>\n\n<form data-amplify-form (submit)=\"onSubmit($event)\" (input)=\"onInput($event)\">\n  <amplify-federated-sign-in></amplify-federated-sign-in>\n  <div class=\"amplify-flex amplify-authenticator__column\">\n    <div class=\"amplify-flex amplify-authenticator__column\">\n      <amplify-slot name=\"sign-up-form-fields\" [context]=\"context\">\n        <amplify-sign-up-form-fields></amplify-sign-up-form-fields>\n      </amplify-slot>\n\n      <amplify-error *ngIf=\"authenticator.error\">\n        {{ authenticator.error }}\n      </amplify-error>\n    </div>\n\n    <amplify-slot name=\"sign-up-button\" [context]=\"context\">\n      <button\n        [isDisabled]=\"\n          authenticator.isPending || authenticator.hasValidationErrors\n        \"\n        amplify-button\n        variation=\"primary\"\n        fullWidth=\"true\"\n        type=\"submit\"\n      >\n        {{ createAccountText }}\n      </button>\n    </amplify-slot>\n  </div>\n</form>\n\n<amplify-slot name=\"sign-up-footer\" [context]=\"context\"> </amplify-slot>\n", components: [{ type: i2.AmplifySlotComponent, selector: "amplify-slot", inputs: ["name", "context"] }, { type: i3.FederatedSignInComponent, selector: "amplify-federated-sign-in" }, { type: i4.SignUpFormFieldsComponent, selector: "amplify-sign-up-form-fields" }, { type: i5.ErrorComponent, selector: "amplify-error" }, { type: i6.ButtonComponent, selector: "button[amplify-button]", inputs: ["type", "fullWidth", "isDisabled", "size", "variation", "fontWeight"] }], directives: [{ type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: SignUpComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'amplify-sign-up',
                    templateUrl: './sign-up.component.html',
                }]
        }], ctorParameters: function () { return [{ type: i1.AuthenticatorService }]; }, propDecorators: { dataAttr: [{
                type: HostBinding,
                args: ['attr.data-amplify-authenticator-signup']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbi11cC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy91aS1hbmd1bGFyL3NyYy9saWIvY29tcG9uZW50cy9hdXRoZW50aWNhdG9yL2NvbXBvbmVudHMvc2lnbi11cC9zaWduLXVwLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpLWFuZ3VsYXIvc3JjL2xpYi9jb21wb25lbnRzL2F1dGhlbnRpY2F0b3IvY29tcG9uZW50cy9zaWduLXVwL3NpZ24tdXAuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFdkQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLHFCQUFxQixFQUFFLE1BQU0saUJBQWlCLENBQUM7Ozs7Ozs7OztBQUU5RSxNQUFNLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxxQkFBcUIsQ0FBQztBQU12RCxNQUFNLE9BQU8sZUFBZTtJQU0xQixZQUFtQixhQUFtQztRQUFuQyxrQkFBYSxHQUFiLGFBQWEsQ0FBc0I7UUFMQyxhQUFRLEdBQUcsRUFBRSxDQUFDO1FBRXJFLG1CQUFtQjtRQUNaLHNCQUFpQixHQUFHLG9CQUFvQixFQUFFLENBQUM7SUFFTyxDQUFDO0lBRTFELElBQVcsT0FBTztRQUNoQixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDO0lBQ3hDLENBQUM7SUFFRCxPQUFPLENBQUMsS0FBWTtRQUNsQixNQUFNLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQXFCLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDdEUsTUFBTSxtQkFBbUIsR0FBRyxJQUFJLEtBQUssVUFBVSxJQUFJLENBQUMsT0FBTyxDQUFDO1FBRTVELElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDO1lBQzVCLElBQUk7WUFDSixLQUFLLEVBQUUsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSztTQUMvQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsUUFBUSxDQUFDLEtBQVk7UUFDbkIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQzs7NkdBekJVLGVBQWU7aUdBQWYsZUFBZSw0SUNWNUIsZ21DQWdDQTs0RkR0QmEsZUFBZTtrQkFKM0IsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsaUJBQWlCO29CQUMzQixXQUFXLEVBQUUsMEJBQTBCO2lCQUN4QzsyR0FFd0QsUUFBUTtzQkFBOUQsV0FBVzt1QkFBQyx3Q0FBd0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEhvc3RCaW5kaW5nIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBdXRoZW50aWNhdG9yU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NlcnZpY2VzL2F1dGhlbnRpY2F0b3Iuc2VydmljZSc7XG5pbXBvcnQgeyBnZXRGb3JtRGF0YUZyb21FdmVudCwgYXV0aGVudGljYXRvclRleHRVdGlsIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L3VpJztcblxuY29uc3QgeyBnZXRDcmVhdGVBY2NvdW50VGV4dCB9ID0gYXV0aGVudGljYXRvclRleHRVdGlsO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhbXBsaWZ5LXNpZ24tdXAnLFxuICB0ZW1wbGF0ZVVybDogJy4vc2lnbi11cC5jb21wb25lbnQuaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIFNpZ25VcENvbXBvbmVudCB7XG4gIEBIb3N0QmluZGluZygnYXR0ci5kYXRhLWFtcGxpZnktYXV0aGVudGljYXRvci1zaWdudXAnKSBkYXRhQXR0ciA9ICcnO1xuXG4gIC8vIHRyYW5zbGF0ZWQgdGV4dHNcbiAgcHVibGljIGNyZWF0ZUFjY291bnRUZXh0ID0gZ2V0Q3JlYXRlQWNjb3VudFRleHQoKTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgYXV0aGVudGljYXRvcjogQXV0aGVudGljYXRvclNlcnZpY2UpIHt9XG5cbiAgcHVibGljIGdldCBjb250ZXh0KCk6IEF1dGhlbnRpY2F0b3JTZXJ2aWNlWydzbG90Q29udGV4dCddIHtcbiAgICByZXR1cm4gdGhpcy5hdXRoZW50aWNhdG9yLnNsb3RDb250ZXh0O1xuICB9XG5cbiAgb25JbnB1dChldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGNoZWNrZWQsIG5hbWUsIHR5cGUsIHZhbHVlIH0gPSA8SFRNTElucHV0RWxlbWVudD5ldmVudC50YXJnZXQ7XG4gICAgY29uc3QgaXNVbmNoZWNrZWRDaGVja2JveCA9IHR5cGUgPT09ICdjaGVja2JveCcgJiYgIWNoZWNrZWQ7XG5cbiAgICB0aGlzLmF1dGhlbnRpY2F0b3IudXBkYXRlRm9ybSh7XG4gICAgICBuYW1lLFxuICAgICAgdmFsdWU6IGlzVW5jaGVja2VkQ2hlY2tib3ggPyB1bmRlZmluZWQgOiB2YWx1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIG9uU3VibWl0KGV2ZW50OiBFdmVudCk6IHZvaWQge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5hdXRoZW50aWNhdG9yLnN1Ym1pdEZvcm0oZ2V0Rm9ybURhdGFGcm9tRXZlbnQoZXZlbnQpKTtcbiAgfVxufVxuIiwiPGFtcGxpZnktc2xvdCBuYW1lPVwic2lnbi11cC1oZWFkZXJcIiBbY29udGV4dF09XCJjb250ZXh0XCI+PC9hbXBsaWZ5LXNsb3Q+XG5cbjxmb3JtIGRhdGEtYW1wbGlmeS1mb3JtIChzdWJtaXQpPVwib25TdWJtaXQoJGV2ZW50KVwiIChpbnB1dCk9XCJvbklucHV0KCRldmVudClcIj5cbiAgPGFtcGxpZnktZmVkZXJhdGVkLXNpZ24taW4+PC9hbXBsaWZ5LWZlZGVyYXRlZC1zaWduLWluPlxuICA8ZGl2IGNsYXNzPVwiYW1wbGlmeS1mbGV4IGFtcGxpZnktYXV0aGVudGljYXRvcl9fY29sdW1uXCI+XG4gICAgPGRpdiBjbGFzcz1cImFtcGxpZnktZmxleCBhbXBsaWZ5LWF1dGhlbnRpY2F0b3JfX2NvbHVtblwiPlxuICAgICAgPGFtcGxpZnktc2xvdCBuYW1lPVwic2lnbi11cC1mb3JtLWZpZWxkc1wiIFtjb250ZXh0XT1cImNvbnRleHRcIj5cbiAgICAgICAgPGFtcGxpZnktc2lnbi11cC1mb3JtLWZpZWxkcz48L2FtcGxpZnktc2lnbi11cC1mb3JtLWZpZWxkcz5cbiAgICAgIDwvYW1wbGlmeS1zbG90PlxuXG4gICAgICA8YW1wbGlmeS1lcnJvciAqbmdJZj1cImF1dGhlbnRpY2F0b3IuZXJyb3JcIj5cbiAgICAgICAge3sgYXV0aGVudGljYXRvci5lcnJvciB9fVxuICAgICAgPC9hbXBsaWZ5LWVycm9yPlxuICAgIDwvZGl2PlxuXG4gICAgPGFtcGxpZnktc2xvdCBuYW1lPVwic2lnbi11cC1idXR0b25cIiBbY29udGV4dF09XCJjb250ZXh0XCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIFtpc0Rpc2FibGVkXT1cIlxuICAgICAgICAgIGF1dGhlbnRpY2F0b3IuaXNQZW5kaW5nIHx8IGF1dGhlbnRpY2F0b3IuaGFzVmFsaWRhdGlvbkVycm9yc1xuICAgICAgICBcIlxuICAgICAgICBhbXBsaWZ5LWJ1dHRvblxuICAgICAgICB2YXJpYXRpb249XCJwcmltYXJ5XCJcbiAgICAgICAgZnVsbFdpZHRoPVwidHJ1ZVwiXG4gICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgPlxuICAgICAgICB7eyBjcmVhdGVBY2NvdW50VGV4dCB9fVxuICAgICAgPC9idXR0b24+XG4gICAgPC9hbXBsaWZ5LXNsb3Q+XG4gIDwvZGl2PlxuPC9mb3JtPlxuXG48YW1wbGlmeS1zbG90IG5hbWU9XCJzaWduLXVwLWZvb3RlclwiIFtjb250ZXh0XT1cImNvbnRleHRcIj4gPC9hbXBsaWZ5LXNsb3Q+XG4iXX0=