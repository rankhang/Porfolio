import{__rest as e,__assign as r}from"tslib";import{Storage as t}from"aws-amplify";import{translate as a}from"../../../../i18n/translations.mjs";function l(a){var l=a.file,i=a.fileName,o=a.level,n=void 0===o?"private":o,s=a.progressCallback,p=a.errorCallback,c=a.completeCallback,u=a.isResumable,m=void 0!==u&&u,b=e(a,["file","fileName","level","progressCallback","errorCallback","completeCallback","isResumable"]),f=l.type||"binary/octet-stream";return!0===m?t.put(i,l,r({level:n,resumable:m,progressCallback:s,errorCallback:p,completeCallback:c,contentType:f},b)):t.put(i,l,r({level:n,resumable:!1,progressCallback:s,contentType:f},b)).then(c,p)}function i(e,r,t){void 0===r&&(r=!1),void 0===t&&(t=1);var a=r?1e3:1024;if(Math.abs(e)<a)return e+" B";var l=r?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1,o=Math.pow(10,t);do{e/=a,++i}while(Math.round(Math.abs(e)*o)/o>=a&&i<l.length-1);return e.toFixed(t)+" "+l[i]}var o=function(e,r){return e&&r.size>e?a("File size must be below ")+i(e,!0):null},n=function(e,r){return e.filter((function(e){var t=e.name||"",a=(e.type||"").toLowerCase(),l=a.replace(/\/.*$/,"");return r.some((function(e){var r=e.trim().toLowerCase();return"."===r.charAt(0)?t.toLowerCase().endsWith(r):r.endsWith("/*")?l===r.replace(/\/.*$/,""):a===r}))}))},s=function(e,r){var t=e.split(".").pop();return r.split(".").pop()===t};export{o as checkMaxSize,i as humanFileSize,s as isValidExtension,n as returnAcceptedFiles,l as uploadFile};
