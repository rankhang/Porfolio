import{__assign as o,__spreadArray as r}from"tslib";import{getActorContext as e,getActorState as n}from"../actor.mjs";import{defaultFormFieldOptions as t}from"../constants.mjs";import{getPrimaryAlias as a}from"../context.mjs";import{isAuthFieldWithDefaults as s}from"../form.mjs";var i=function(r,n){var a=e(r).country_code,s=t[n];return"tel"===s.type&&(s=o(o({},s),{dialCode:a})),s},c=function(r){var e=a(r);return o(o({},i(r,e)),{autocomplete:"username"})},d=function(r){return{confirmation_code:o(o({},i(r,"confirmation_code")),{label:"Code *",placeholder:"Code"})}},m={signIn:function(r){return{username:o({},c(r)),password:o(o({},i(r,"password")),{autocomplete:"current-password"})}},signUp:function(e){for(var n=e.context.config,t=n.loginMechanisms,d=n.signUpAttributes,m=a(e),u={},f=0,l=Array.from(new Set(r(r(r([],t,!0),["password","confirm_password"],!1),d,!0)));f<l.length;f++){var p=l[f];if(s(p)){var w=p===m?c(e):i(e,p);u[p]=o({},w)}else console.debug("Authenticator does not have a default implementation for ".concat(p,". Customize SignUp FormFields to add your own."))}return u},confirmSignUp:function(r){return{confirmation_code:o(o({},i(r,"confirmation_code")),{placeholder:"Enter your code"})}},confirmSignIn:d,forceNewPassword:function(e){for(var t=n(e).context.requiredAttributes,a={},c=0,d=Array.from(new Set(r(["password","confirm_password"],t,!0)));c<d.length;c++){var m=d[c];s(m)?a[m]=o({},i(e,m)):console.debug("Authenticator does not have a default implementation for ".concat(m,". Customize ForceNewPassword FormFields to add your own."))}return a},resetPassword:function(r){var e=a(r),n=t[e].label;return{username:o(o({},c(r)),{label:"Enter your ".concat(n.toLowerCase()),placeholder:"Enter your ".concat(n.toLowerCase())})}},confirmResetPassword:function(r){return o(o({},d(r)),{password:o(o({},i(r,"password")),{label:"New Password",placeholder:"New Password"}),confirm_password:o(o({},i(r,"confirm_password")),{label:"Confirm Password",placeholder:"Confirm Password"})})},confirmVerifyUser:d,setupTOTP:d};export{m as defaultFormFieldsGetters,c as getAliasDefaultFormField};
