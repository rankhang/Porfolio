import{__assign as n}from"tslib";import t from"style-dictionary/lib/utils/deepExtend.js";import e from"style-dictionary/lib/utils/flattenProperties.js";import{defaultTheme as o}from"./defaultTheme.mjs";import{setupTokens as a,cssNameTransform as c,cssValue as r}from"./utils.mjs";var i=function(n){var t=n.token,e=n.path,o="--".concat(c({path:e})),a=t.value,i=r(t);return{name:o,original:a,path:e,value:i,toString:function(){return"var(".concat(o,")")}}};function m(c,r){void 0===r&&(r=o);var m=t([{},r,c]),s=a({tokens:m.tokens,setupToken:i}),l=m.breakpoints,p=m.name,d='[data-amplify-theme="'.concat(p,'"] {\n')+e(s).map((function(n){return"".concat(n.name,": ").concat(n.value,";")})).join("\n")+"\n}\n",u=[];return m.overrides&&(u=m.overrides.map((function(t){var o=a({tokens:t.tokens,setupToken:i}),c=e(o).map((function(n){return"".concat(n.name,": ").concat(n.value,";")})).join("\n");if("selector"in t&&(d+="\n".concat(t.selector," {\n").concat(c,"\n}\n")),"mediaQuery"in t&&(d+="\n@media (".concat(t.mediaQuery,') {\n  [data-amplify-theme="').concat(p,'"] {\n    ').concat(c,"\n  }\n}\n")),"breakpoint"in t){var r=m.breakpoints.values[t.breakpoint];d+="\n@media (min-width: ".concat(r,'px) {\n  [data-amplify-theme="').concat(p,'"] {\n    ').concat(c,"\n  }\n}\n")}return"colorMode"in t&&(d+="\n@media (prefers-color-scheme: ".concat(t.colorMode,') {\n          [data-amplify-theme="').concat(p,'"][data-amplify-color-mode="system"] {\n').concat(c,"\n}\n        }\n"),d+='\n[data-amplify-theme="'.concat(p,'"][data-amplify-color-mode="').concat(t.colorMode,'"] {\n').concat(c,"\n}\n")),n(n({},t),{tokens:o})}))),{tokens:s,breakpoints:l,name:p,cssText:d,overrides:u}}export{m as createTheme};
